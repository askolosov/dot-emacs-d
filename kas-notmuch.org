
* Initialization
#+begin_src emacs-lisp
  (require 'notmuch)

  (setq notmuch-command "remote-notmuch.sh")

#+end_src
* Settings
#+begin_src emacs-lisp
  (setq notmuch-fcc-dirs
        '(("akolosov@cs.petrsu.ru" . "cs/sent-mail")
          ("alexander@kolosov.xyz" . "xyz/Sent")))

  (setq notmuch-mua-cite-function 'message-cite-original-without-signature)

  (setq notmuch-saved-searches
        '((:name "inbox" :query "tag:inbox" :key "i"  :count-query "tag:inbox AND tag:unread")
          (:name "unread" :query "tag:unread and not tag:report" :key "u")
          (:name "flagged" :query "tag:flagged" :key "f")
          (:name "drafts" :query "tag:draft" :key "d")
          (:name "reports" :query "tag:report" :key "r" :count-query "tag:report AND tag:unread")
          (:name "inbox cs" :query "tag:cs and tag:inbox" :key "c")
          (:name "inbox xyz" :query "tag:xyz and tag:inbox" :key "x")))
#+end_src
